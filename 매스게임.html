<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="../lib/Cell.js"></script>
    <script>
        let wrapper;
        let cellWidth=10;//각 셀의 너비
        let cellHeight=10; //각 셀의 높이  
        let row=100;//셀의 층 수 
        let col=100;//셀의 호 수 
        let cellArray=[]; //모든 셀을 담게될 이차원배열이 될 예정..

        function createCell(){
            for(let i=0; i<row;i++){ //층수만큼

                let arr=[];//한 층에 있는 모든 셀을 담게 될 즉 한줄을 담당할 배열 
                for(let a=0;a<col;a++){ //호수 만큼 
                    //(container, x, y, width, height, bg)
                    arr[a] = new Cell(wrapper, a*cellWidth, i*cellHeight, cellWidth, cellHeight, "yellow");
                }
                cellArray.push(arr);//층수만큼 일차원배열을 이차원배열에 담기
            }
        }

        function gameLoop(){
            for(let i=0;i<cellArray.length;i++){ //층수만큼 
                for(let a=0;a<cellArray[i].length;a++){//호수만큼
                    cellArray[i][a].render();
                }
            }
        }

        addEventListener("load", function(){
            wrapper = document.createElement("div");
            wrapper.style.width=(cellWidth*col)+"px";
            wrapper.style.height=(cellHeight*row)+"px";
            wrapper.style.backgroundImage="url(../images/Shrek/img1.jpg)";
            wrapper.style.backgroundSize=(cellWidth*col)+"px "+(cellHeight*row)+"px";
            wrapper.style.margin="auto";
            wrapper.style.position="relative";

            document.body.appendChild(wrapper);

            //다수의 셀 생성하기 
            createCell();

            setInterval("gameLoop()", 25);
        });
    </script>
</head>
<body>    
</body>
</html>